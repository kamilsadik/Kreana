{"ast":null,"code":"var _jsxFileName = \"/Users/kamilalizaisadik/DeFi/Dynamic Automated Market Maker/CreatorTokenExchange/client/src/HoldingsTable.jsx\";\nimport React, { Component, useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper'; //import DisplayHoldings from \"./DisplayHoldings.jsx\";\n\nimport { userHoldings } from \"./UserHoldings.jsx\";\nimport { tokens } from \"./Inventory.jsx\";\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 350\n  }\n});\n\nconst HoldingsTable = props => {\n  const {\n    address,\n    name,\n    symbol,\n    description,\n    verified,\n    outstanding,\n    maxSupply,\n    lastPrice,\n    creatorTokenId\n  } = props;\n  const classes = useStyles();\n  const [holdingsState, setHoldingsState] = useState([]);\n  console.log(userHoldings);\n  useEffect(() => {\n    async function fetchData() {\n      setHoldingsState(await userHoldings);\n    }\n\n    fetchData();\n  }, []);\n  const [tokenState, setTokenState] = useState([]);\n  useEffect(() => {\n    async function fetchData() {\n      setTokenState(await tokens);\n    }\n\n    fetchData();\n  }, []);\n\n  function createData(token, amountHeld, value) {\n    return {\n      token,\n      amountHeld,\n      value\n    };\n  } // Initialize empty array of rows\n\n\n  const rows = []; // Initialize total number of tokens user holds\n\n  let totalUserTokens = 0; // Initialize total value of user tokens\n\n  let totalUserValue = 0; // Add user's holdings of each token to array of rows\n\n  for (let i = 0; i < holdingsState.length; i++) {\n    // Only include a row for tokens the user actually owns\n    if (holdingsState[i] != 0) {\n      rows.push(createData(tokenState.map(tokenObj => tokenObj.symbol)[i], holdingsState[i], (holdingsState[i] * tokenState.map(tokenObj => tokenObj.lastPrice)[i] / 1000000000000000000).toFixed(6)));\n    } // Update total number of tokens user holds\n\n\n    totalUserTokens += Number(holdingsState[i]); // Update total value of user's tokens\n\n    totalUserValue += holdingsState[i] * tokenState.map(tokenObj => tokenObj.lastPrice)[i] / 1000000000000000000;\n  } // Add row showing holding totals\n\n\n  rows.push(createData('TOTAL', totalUserTokens, totalUserValue.toFixed(6)));\n  return /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.table,\n    size: \"small\",\n    \"aria-label\": \"a dense table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"Token\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Holdings\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"Value (ETH)\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, rows.map(row => /*#__PURE__*/React.createElement(TableRow, {\n    key: row.token,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, row.token), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, row.amountHeld), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, row.value))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default HoldingsTable;","map":{"version":3,"sources":["/Users/kamilalizaisadik/DeFi/Dynamic Automated Market Maker/CreatorTokenExchange/client/src/HoldingsTable.jsx"],"names":["React","Component","useState","useEffect","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","userHoldings","tokens","useStyles","table","minWidth","HoldingsTable","props","address","name","symbol","description","verified","outstanding","maxSupply","lastPrice","creatorTokenId","classes","holdingsState","setHoldingsState","console","log","fetchData","tokenState","setTokenState","createData","token","amountHeld","value","rows","totalUserTokens","totalUserValue","i","length","push","map","tokenObj","toFixed","Number","row"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n//import DisplayHoldings from \"./DisplayHoldings.jsx\";\nimport { userHoldings } from \"./UserHoldings.jsx\";\nimport { tokens } from \"./Inventory.jsx\";\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 350,\n  },\n});\n\nconst HoldingsTable = props => {\n  const {\n    address,\n    name,\n    symbol,\n    description,\n    verified,\n    outstanding,\n    maxSupply,\n    lastPrice,\n    creatorTokenId,\n  } = props;\n\n  const classes = useStyles();\n\n  const [holdingsState, setHoldingsState] = useState([]);\n  console.log(userHoldings);\n  useEffect(() => {\n    async function fetchData() {\n      setHoldingsState(await userHoldings);\n    }\n    fetchData();\n  }, []);\n\n  const [tokenState, setTokenState] = useState([]);\n  useEffect(() => {\n    async function fetchData() {\n      setTokenState(await tokens);\n    }\n    fetchData();\n  }, []);\n\n  function createData(token, amountHeld, value) {\n    return { token, amountHeld, value };\n  }\n\n  // Initialize empty array of rows\n  const rows = [];\n  // Initialize total number of tokens user holds\n  let totalUserTokens = 0;\n  // Initialize total value of user tokens\n  let totalUserValue = 0;\n\n  // Add user's holdings of each token to array of rows\n  for (let i=0; i<holdingsState.length; i++) {\n    // Only include a row for tokens the user actually owns\n    if (holdingsState[i] != 0) {\n      rows.push(\n        createData(\n          tokenState.map(tokenObj => tokenObj.symbol)[i],\n          holdingsState[i],\n          (holdingsState[i]*tokenState.map(tokenObj => tokenObj.lastPrice)[i]/1000000000000000000).toFixed(6)\n        )\n      )\n    }\n    // Update total number of tokens user holds\n    totalUserTokens+=Number(holdingsState[i]);\n    // Update total value of user's tokens\n    totalUserValue+=(holdingsState[i]*tokenState.map(tokenObj => tokenObj.lastPrice)[i]/1000000000000000000);\n  }\n\n  // Add row showing holding totals\n  rows.push(\n    createData(\n      'TOTAL',\n      totalUserTokens,\n      totalUserValue.toFixed(6)\n    )\n  )\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} size=\"small\" aria-label=\"a dense table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Token</TableCell>\n            <TableCell align=\"right\">Holdings</TableCell>\n            <TableCell align=\"right\">Value (ETH)</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {rows.map((row) => (\n            <TableRow key={row.token}>\n              <TableCell component=\"th\" scope=\"row\">\n                {row.token}\n              </TableCell>\n              <TableCell align=\"right\">{row.amountHeld}</TableCell>\n              <TableCell align=\"right\">{row.value}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n      <br />\n    </TableContainer>\n  );\n\n\n}\n\nexport default HoldingsTable"]},"metadata":{},"sourceType":"module"}